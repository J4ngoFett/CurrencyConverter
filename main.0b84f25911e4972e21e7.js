(()=>{"use strict";function e(e,t){return new Promise(((n,r)=>{const o=new XMLHttpRequest,a=t?Object.entries(t).reduce(((e,[t,n])=>(e.set(t,n.toString()),e)),new URLSearchParams):new URLSearchParams;o.open("GET",`${e}${t?`?${a.toString()}`:""}`,!0),o.responseType="json",o.onerror=()=>r(new Error("Network error")),o.onload=()=>{o.status>=200&&o.status<400?n(o.response):r(o.response)},o.send()}))}const t=document.getElementById("currencySelect"),n=document.getElementById("amountInput"),r=document.getElementById("resultOutput"),o={scale:1,rate:1,amout:0};function a(){const{scale:e,rate:t,amout:n}=o;r.textContent=String(n/t*e)}e("https:www.nbrb.by/api/exrates/currencies").then((e=>{const n=document.createDocumentFragment();for(const{Cur_Abbreviation:t,Cur_Name_Eng:r}of e){const e=document.createElement("option");e.value=t,e.textContent=`(${t}) ${r}`,n.appendChild(e)}t?.replaceChildren(n),t.insertAdjacentHTML("afterbegin","<option selected> Choose currency </option>"),t.disabled=!1}),(e=>console.error(e))),t.addEventListener("change",(()=>{t.firstElementChild?.remove()}),{once:!0}),t.addEventListener("change",(async()=>{const n=t.value,{Cur_Scale:r,Cur_OfficialRate:s}=await e(`https://www.nbrb.by/api/exrates/rates/${n}`,{parammode:2});o.scale=r,o.rate=s,a()})),n.addEventListener("input",(()=>{o.amout=Number(n.value)||0,a()}))})();
//# sourceMappingURL=main.0b84f25911e4972e21e7.js.map